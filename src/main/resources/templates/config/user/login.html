<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/default_layout}">

<!-- index.html 고유 CSS 추가 -->
<th:block layout:fragment="css">
    <style>

    </style>
    <!--    <link rel="stylesheet" th:href="@{/css/page/home.css}" >-->
</th:block>


<!-- Content -->
<div layout:fragment="content">
    <div class="container">
<!--        <div class="title">-->
<!--            <h2>로그인</h2>-->
<!--            <hr/>-->
<!--        </div>-->
        <div style="width: 90%; margin:0 auto 0 auto; display: flex;flex-direction: column; justify-content: center;align-items: center;min-height: 65vh;">
            <div style="margin: 0 auto 20px auto; width:550px">
                <form id="loginForm" method="post" onsubmit="return false;">
                    <h1 style="text-align: center" class="mb-4">로그인</h1>
                    <input type="text" name="id" placeholder="아이디" class="form-control mb-1 box">
                    <input type="password" name="password" placeholder="비밀번호" class="form-control box">
                    <button type="button" class="btn-next mt-4 box" onclick="login()">로그인</button>
                    <hr style="margin-top: 30px"/>
                </form>
            </div>
            <div style="margin-left: auto; margin-right: auto;width:550px;">
                <div style="width:100%;display: flex;flex-direction: row;justify-content: center;align-items: center;">
                    <button type="button" class="mb-1 box sms-btn" style="width:10%"><img src="/image/kakaotalk_sharing_btn_small.png" style="width:100%;height: 100%"></button>
                    <button type="button" class="mb-1 box sms-btn" style="width:10%"><img src="/image/btnG_아이콘사각.png" style="width:100%;height: 100%"></button>
                    <button type="button" class="mb-1 box sms-google-btn" data-provider="Google" style="width:9%;margin-left:1%">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 18 18"><path fill="#4285F4" d="M17.785 9.169c0-.738-.06-1.276-.189-1.834h-8.42v3.328h4.942c-.1.828-.638 2.073-1.834 2.91l-.016.112 2.662 2.063.185.018c1.694-1.565 2.67-3.867 2.67-6.597z"></path><path fill="#34A853" d="M9.175 17.938c2.422 0 4.455-.797 5.94-2.172l-2.83-2.193c-.758.528-1.774.897-3.11.897-2.372 0-4.385-1.564-5.102-3.727l-.105.01-2.769 2.142-.036.1c1.475 2.93 4.504 4.943 8.012 4.943z"></path><path fill="#FBBC05" d="M4.073 10.743c-.19-.558-.3-1.156-.3-1.774 0-.618.11-1.216.29-1.774l-.005-.119L1.254 4.9l-.091.044C.555 6.159.206 7.524.206 8.969c0 1.445.349 2.81.957 4.026l2.91-2.252z"></path><path fill="#EB4335" d="M9.175 3.468c1.684 0 2.82.728 3.468 1.335l2.531-2.471C13.62.887 11.598 0 9.175 0 5.667 0 2.638 2.013 1.163 4.943l2.9 2.252c.727-2.162 2.74-3.727 5.112-3.727z"></path></svg>
                    </button>
                </div>
<!--                <button type="button" class="mb-1 box sms-btn" style="width:30%"><img src="/image/btn_google_signin_light_normal_web@2x.png" style="width:100%;height: 100%;"></button>-->
            </div>
        </div>
    </div>
    <th:block layout:fragment="script">
        <script th:inline="javascript">

            function login(){


                let returnType = true;

                $.ajax({
                    url: '/user/loginUser',
                    type: 'POST',
                    async: false,
                    cache :false,
                    dataType : 'json',
                    contentType: 'application/json; charset=utf-8',
                    data: $("input[name=id]").val(),
                    success: function(data) {
                        if(data.result === "success"){
                            // $(location).attr("href", "/");
                        }else{
                            alert("등록되지 않은 사용자입니다.");
                        }
                    },
                    error: function(error) {
                        console.log("error");
                        alert("등록되지 않은 사용자입니다.");
                        returnType = false;
                    }
                })

                return returnType;
            }

        </script>
    </th:block>
</div>
</html>